## Внешний вид кода
### Отступы

Используйте **4 пробела на один уровень отступа**, а не табуляцию.

Никогда не смешивайте символы табуляции и пробелы!  
Код, в котором используются и те, и другие типы отступов, должен быть исправлен так, чтобы отступы в нем были расставлены только с помощью пробелов.

### Максимальная длина строки

Ограничьте максимальную **длину строки 79 символами** и 72 символами в случае длинных блоков текста (строки документации или комментарии).

### Пустые строки

**Отделяйте двумя пустыми строчками функции** (верхнего уровня, не функции внутри функций) и определения классов.

Определения методов внутри класса отделяйте одной пустой строкой.

## Import-секции

Импортирование всегда нужно делать **в самом начале программы**, сразу после документации.

Импортирование разных модулей должно быть на разных строчках.

*Правильно*:

    import os
    import sys
    
    from subprocess import Popen, PIPE

~~Неправильно~~:

    import os, sys

    from subprocess import Popen
    from subprocess import PIPE

**Группируйте импорты в следующем порядке**:

- импорты стандартной библиотеки
- импорты сторонних библиотек
- импорты модулей текущего проекта

## Пробелы в выражениях и инструкциях

#### Избегайте использования пробелов в следующих ситуациях:

1. Сразу после или перед скобками (обычными, фигурными и квадратными)

*Правильно:*

    spam(ham[1], {eggs: 2})

    dict['key'] = list[index]

    spam(1)

~~Неправильно~~ :

    spam( ham[ 1 ], { eggs: 2 } )

    dict ['key'] = list [index]

    spam (1)

2. Сразу перед запятой, точкой с запятой, двоеточием:

Правильно:

    if x == 4: 
        print x, y

    x, y = y, x

~~Неправильно~~ :

    if x == 4 : 
        print x , y ; 

    x , y = y , x

5. Использование более одного пробела вокруг оператора присваивания (или любого другого) для того, чтобы выровнять его с другим таким же оператором на соседней строке:

Правильно:

    x = 1 
    y = 2 
    long_variable = 3 

~~Неправильно~~ :

    x             = 1 
    y             = 2 
    long_variable = 3

### Прочие рекомендации:

1. **Ставьте пробелы** вокруг арифметических операций, а также операторов присваивания: **= , += , -= ,** операторов сравнений: **== , < , > , != , <> , <= , >= , in, not in, is, is not** и логических операторов **and, or, not**. 

*Правильно:*

    i = i + 1 

    submitted += 1 

    x = x * 2 - 1 

    hypot2 = x * x + y * y 

    c = (a + b) * (a - b) 

~~Неправильно~~ :

    i=i+1 

    submitted +=1 

    x = x*2 - 1 

    hypot2 = x*x + y*y 

    c = (a+b) * (a-b)

2. **Не используйте пробелы для** отделения знака =, если он обозначает аргументы-ключи (keyword argument) или **значения параметра по умолчанию**.

*Правильно:*

    def complex(real, imag=0.0):
        return magic(r=real, i=imag) 

~~Неправильно~~ :

    def complex(real, imag = 0.0):
        return magic(r = real, i = imag) 

3. **Не используйте составные инструкции** (несколько команд в одной строке).

Правильно:

    if foo == 'blah': 
        do_blah_thing() 

~~Неправильно~~ :

    if foo == 'blah': do_blah_thing() 


## Комментарии

**Противоречащие коду комментарии — хуже, чем их отсутствие!**

**Меняя код — смените комментарий!**

Комментарии должны быть законченными предложениями. Если комментарий начинается с имени переменной, которое начинается с маленькой буквы — не меняйте название переменной. В остальных случаях пишите комментарий с большой буквы.

Только если комментарий короткий, то можно опустить точку в конце предложения.

Программисты, которые не говорят на английском языке, пожалуйста, пишите комментарии на английском, если только вы не уверены на 120 процентов, что ваш код никогда не будут читать люди, не знающие вашего родного языка.

### Блок комментариев

Блок комментариев обычно объясняет код, идущий сразу после этого блока.

**Блок комментариев должен иметь тот же отступ, что и сам код.** Каждая строчка должна начинаться с символа # и одного пробела после него (если только сам текст комментария не имеет отступа). Каждое предложение должно заканчиваться точкой.

Ставьте два пробела после точки в конце предложения.

### Комментарии в строке с кодом

Старайтесь реже использовать комментарии в строке с кодом.

«Встрочные» комментарии должны отделяться хотя бы двумя пробелами от инструкции. Они должны начинаться с символа # и одного пробела.

**Комментарии в строке с кодом не нужны** и только отвлекают от чтения, если они объясняют очевидное. 

~~Не пишите так~~ :

    x = x + 1                 # Увеличиваем X на один 

### Строки документации

Соглашения о написании хорошей документации (docstrings) увековечены в [PEP 257](http://www.python.org/dev/peps/pep-0257/).

**Пишите документацию для всех модулей, функций, классов, методов**, которые объявлены как public. Для не-public методов, тоже лучше написать, что делает метод. Комментарий нужно писать после строки с def.

Заметьте, очень важно, чтобы закрывающие &quot;&quot;&quot; стояли на отдельной строчке. А еще лучше, если перед ними будет ещё и пустая строка, например:

    """
    Return a foobang
    Optional plotz says to frobnicate the bizbaz first.

    """

Для однострочной документации можно оставить &quot;&quot;&quot; на той же строке.


## Имена

Новые модули и пакеты должны быть написаны согласно стандартам, описанным ниже, но если в какой-либо уже существующей библиотеке эти правила нарушаются, предпочтительнее писать в едином с ней стиле.

#### Стили имен

Существует много разных стилей. Поможем вам распознать, какой стиль именования используется, независимо от того, для чего он используется. 

Различают следующие стили (выделены те, что активно используются в Python):

- b (одиночная маленькая буква)
- B (одиночная заглавная буква)
- lowercase (слово в нижнем регистре)
- **lower_case_with_underscores** (слова из маленьких букв с подчеркиваниями, snake case)
- UPPERCASE (заглавные буквы)
- **UPPERCASE\_WITH\_UNDERSCORES** (слова из заглавных букв с подчеркиваниями)
- **CapitalizedWords** (слова с заглавными буквами, или **CamelCase**, или CapWords. 
  *Замечание*: пишите все буквы аббревиатуры заглавными — например, HTTPServerError.
- mixedCase (отличается от CapitalizedWords тем, что первое слово начинается с маленькой буквы)
- ~~Capitalized\_Words\_With\_Underscores~~ (слова с заглавными буквами и подчеркиваниями)

### Соглашения по именованию
#### Имена, которых следует избегать
Никогда не используйте как однобуквенные идентификаторы символы l (пишите L), O (пишите о) или I (пишите i). В некоторых шрифтах эти символы неотличимы от цифры один и нуля.

#### Имена классов
Все имена классов должны следовать соглашению CapWords почти без исключений. Классы внутреннего использования могут начинаться с символа подчеркивания.

#### Имена функций
Имена функций должны состоять из маленьких букв, а слова разделяться символами подчеркивания — это необходимо, чтобы увеличить читабельность.

#### Константы
Константы обычно объявляются на уровне модуля и записываются только заглавными буквами, а слова разделяются символами подчеркивания. Например: MAX_OVERFLOW, TOTAL. 

#### Аргументы функций и методов
Если имя аргумента конфликтует с зарезервированным ключевым словом python, то лучше добавить в конец имени символ подчеркивания. Таким образом, print_ лучше, чем prnt. 

### Общие рекомендации

1. Код должен быть написан так, чтобы не зависеть от разных реализация языка (PyPy, Jython, IronPython, Pyrex, Psyco и пр.). Например, не полагайтесь на эффективную реализацию в CPython конкатенации строк в выражениях типа a+=b или a=a+b. Такие инструкции выполняются значительно медленнее в Jython. В критичных к времени выполнения частях программы используйте &#39;&#39;.join() — таким образом склеивание строк будет выполнено за линейное время независимо от реализации python.


2. Сравнения с None должны обязательно выполняться с использованием операторов is или is not, а не с помощью операторов равенства или неравенства. Кроме того,


3. Имея в виду if x is not None, не пишите if x — если такая переменная или аргумент примет значение иного типа, то при приведении к булевскому типу получится False.


4. Для последовательностей (строк, списков, кортежей) можно использовать тот факт, что пустая последовательность есть False и писать «if not seq» вместо «if not len(seq)»


5. Пользуйтесь «.startswith()» и «.endswith()» вместо обработки частей строк (string slicing) для проверки суффиксов или префиксов.


6. Мы не используем термин «приватный атрибут» (private), потому что на самом деле в python приватных атрибутов не бывает. Названия публичных атрибутов не должны начинаться с подчеркивания. Решите и явно укажите, какие атрибуты — публичные, какие принадлежат API подклассов, а какие используются только базовым классом.
